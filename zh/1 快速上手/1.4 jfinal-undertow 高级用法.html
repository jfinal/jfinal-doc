<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.4 jfinal-undertow 高级用法 | JFinal Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/jfinal-doc/logo.png">
    <link rel="manifest" href="/jfinal-doc/manifest.json">
    <link rel="apple-touch-icon" href="/jfinal-doc/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/jfinal-doc/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <link rel="icon" href="/jfinal-doc/favicon.ico">
    <script crossorigin="anonymous" async="true" src=""></script>
    <meta name="description" content="Java Web 快速开发框架">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="author" content="litongjava@qq.com,jfinal@qq.com">
    <meta name="keywords" content="JFinal,jfinal">
    
    <link rel="preload" href="/jfinal-doc/assets/css/0.styles.920a9963.css" as="style"><link rel="preload" href="/jfinal-doc/assets/js/app.5fe66a11.js" as="script"><link rel="preload" href="/jfinal-doc/assets/js/2.347bbfd0.js" as="script"><link rel="preload" href="/jfinal-doc/assets/js/1.4a50f8bd.js" as="script"><link rel="preload" href="/jfinal-doc/assets/js/130.35cdd3aa.js" as="script"><link rel="prefetch" href="/jfinal-doc/assets/js/10.5c32a58d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/100.58709967.js"><link rel="prefetch" href="/jfinal-doc/assets/js/101.b3fb3890.js"><link rel="prefetch" href="/jfinal-doc/assets/js/102.976b924d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/103.ea131c09.js"><link rel="prefetch" href="/jfinal-doc/assets/js/104.21684e01.js"><link rel="prefetch" href="/jfinal-doc/assets/js/105.af138aab.js"><link rel="prefetch" href="/jfinal-doc/assets/js/106.230253a8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/107.3c5f0a40.js"><link rel="prefetch" href="/jfinal-doc/assets/js/108.be5ba11c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/109.53100a90.js"><link rel="prefetch" href="/jfinal-doc/assets/js/11.72ae73cf.js"><link rel="prefetch" href="/jfinal-doc/assets/js/110.2f9a4c45.js"><link rel="prefetch" href="/jfinal-doc/assets/js/111.ba44897b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/112.5dcb2aab.js"><link rel="prefetch" href="/jfinal-doc/assets/js/113.9a2136f9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/114.d4dec325.js"><link rel="prefetch" href="/jfinal-doc/assets/js/115.cb99dce6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/116.872e8380.js"><link rel="prefetch" href="/jfinal-doc/assets/js/117.e582e9c2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/118.f718684c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/119.427d0360.js"><link rel="prefetch" href="/jfinal-doc/assets/js/12.16ac6487.js"><link rel="prefetch" href="/jfinal-doc/assets/js/120.9527644a.js"><link rel="prefetch" href="/jfinal-doc/assets/js/121.b4bb9c06.js"><link rel="prefetch" href="/jfinal-doc/assets/js/122.e5baa935.js"><link rel="prefetch" href="/jfinal-doc/assets/js/123.8c8e31da.js"><link rel="prefetch" href="/jfinal-doc/assets/js/124.d5f0fc0e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/125.af7b5978.js"><link rel="prefetch" href="/jfinal-doc/assets/js/126.503feb5f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/127.2f8c100e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/128.d2a4f92b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/129.d32a75e3.js"><link rel="prefetch" href="/jfinal-doc/assets/js/13.67223a8e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/131.abea1ffa.js"><link rel="prefetch" href="/jfinal-doc/assets/js/132.c74a257e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/133.1312f4b8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/134.d331b383.js"><link rel="prefetch" href="/jfinal-doc/assets/js/135.a4530963.js"><link rel="prefetch" href="/jfinal-doc/assets/js/136.16074b07.js"><link rel="prefetch" href="/jfinal-doc/assets/js/137.96483507.js"><link rel="prefetch" href="/jfinal-doc/assets/js/138.6dcff16c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/139.fb9da1a6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/14.3eb9dfa2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/140.7cd5a79e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/141.d95da2bc.js"><link rel="prefetch" href="/jfinal-doc/assets/js/142.18d3fc84.js"><link rel="prefetch" href="/jfinal-doc/assets/js/143.1c8cdd27.js"><link rel="prefetch" href="/jfinal-doc/assets/js/144.13e8e20d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/145.e362e955.js"><link rel="prefetch" href="/jfinal-doc/assets/js/146.1f10b894.js"><link rel="prefetch" href="/jfinal-doc/assets/js/147.f9855ed6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/148.2a901f83.js"><link rel="prefetch" href="/jfinal-doc/assets/js/149.830ecc5a.js"><link rel="prefetch" href="/jfinal-doc/assets/js/15.df39777f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/150.e98df5fd.js"><link rel="prefetch" href="/jfinal-doc/assets/js/151.5c0e420a.js"><link rel="prefetch" href="/jfinal-doc/assets/js/152.f4736fa0.js"><link rel="prefetch" href="/jfinal-doc/assets/js/153.9490d155.js"><link rel="prefetch" href="/jfinal-doc/assets/js/154.f66e9153.js"><link rel="prefetch" href="/jfinal-doc/assets/js/155.04b77b0e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/156.35bf667d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/157.6333a023.js"><link rel="prefetch" href="/jfinal-doc/assets/js/158.5ba06241.js"><link rel="prefetch" href="/jfinal-doc/assets/js/159.e206b63f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/16.fcff4e7b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/160.ee041c4d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/161.ac6ab18b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/162.d4317948.js"><link rel="prefetch" href="/jfinal-doc/assets/js/163.0249a21e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/164.f414d545.js"><link rel="prefetch" href="/jfinal-doc/assets/js/165.0bf299f9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/166.d0ef2428.js"><link rel="prefetch" href="/jfinal-doc/assets/js/167.ffbeb150.js"><link rel="prefetch" href="/jfinal-doc/assets/js/168.005a222d.js"><link rel="prefetch" href="/jfinal-doc/assets/js/169.fd69adb5.js"><link rel="prefetch" href="/jfinal-doc/assets/js/17.13f9f737.js"><link rel="prefetch" href="/jfinal-doc/assets/js/170.7247bdd0.js"><link rel="prefetch" href="/jfinal-doc/assets/js/171.f1c880fc.js"><link rel="prefetch" href="/jfinal-doc/assets/js/172.7f3e6de4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/173.f5a4a524.js"><link rel="prefetch" href="/jfinal-doc/assets/js/174.f43fec36.js"><link rel="prefetch" href="/jfinal-doc/assets/js/175.214c9ee2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/176.d44543d9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/177.19827d00.js"><link rel="prefetch" href="/jfinal-doc/assets/js/178.389b9cd8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/179.ce8dff33.js"><link rel="prefetch" href="/jfinal-doc/assets/js/18.6d3b94c1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/180.7a0a10a8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/181.62bf9963.js"><link rel="prefetch" href="/jfinal-doc/assets/js/182.29826900.js"><link rel="prefetch" href="/jfinal-doc/assets/js/183.ab2412f4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/184.c0f8564e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/185.f59fb3be.js"><link rel="prefetch" href="/jfinal-doc/assets/js/186.26a39fa3.js"><link rel="prefetch" href="/jfinal-doc/assets/js/187.2bda7366.js"><link rel="prefetch" href="/jfinal-doc/assets/js/188.5acb71d2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/189.50994051.js"><link rel="prefetch" href="/jfinal-doc/assets/js/19.fd36e329.js"><link rel="prefetch" href="/jfinal-doc/assets/js/190.9eae1da4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/191.4262ac96.js"><link rel="prefetch" href="/jfinal-doc/assets/js/192.3c6adef5.js"><link rel="prefetch" href="/jfinal-doc/assets/js/193.bf97319f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/194.c13c6648.js"><link rel="prefetch" href="/jfinal-doc/assets/js/195.0d8b5f69.js"><link rel="prefetch" href="/jfinal-doc/assets/js/196.56e87084.js"><link rel="prefetch" href="/jfinal-doc/assets/js/197.e48ae8ea.js"><link rel="prefetch" href="/jfinal-doc/assets/js/198.a537fb16.js"><link rel="prefetch" href="/jfinal-doc/assets/js/199.40126132.js"><link rel="prefetch" href="/jfinal-doc/assets/js/20.ac1cf63f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/200.3f95d9d3.js"><link rel="prefetch" href="/jfinal-doc/assets/js/201.85a527a4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/202.1f1dcd2c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/203.05807ff9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/204.580dc9a8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/205.ee7d23fd.js"><link rel="prefetch" href="/jfinal-doc/assets/js/206.d3031a77.js"><link rel="prefetch" href="/jfinal-doc/assets/js/207.2ed4be02.js"><link rel="prefetch" href="/jfinal-doc/assets/js/208.7c63e94f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/209.4e17b08f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/21.e6ea6789.js"><link rel="prefetch" href="/jfinal-doc/assets/js/210.7693d0c1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/211.4674bfd1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/212.bb5bb753.js"><link rel="prefetch" href="/jfinal-doc/assets/js/213.f5ed0f87.js"><link rel="prefetch" href="/jfinal-doc/assets/js/214.b0bf597c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/215.15356371.js"><link rel="prefetch" href="/jfinal-doc/assets/js/216.7650365e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/217.82b3a764.js"><link rel="prefetch" href="/jfinal-doc/assets/js/218.21453e4b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/219.9f03eaf8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/22.81d85abb.js"><link rel="prefetch" href="/jfinal-doc/assets/js/220.1684a3a8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/221.d7edf33b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/222.b2027afb.js"><link rel="prefetch" href="/jfinal-doc/assets/js/223.3c09a36e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/224.b4f18cf3.js"><link rel="prefetch" href="/jfinal-doc/assets/js/23.e2e252e7.js"><link rel="prefetch" href="/jfinal-doc/assets/js/24.ac543560.js"><link rel="prefetch" href="/jfinal-doc/assets/js/25.bf64a8cd.js"><link rel="prefetch" href="/jfinal-doc/assets/js/26.793ff4c4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/27.4bf76b67.js"><link rel="prefetch" href="/jfinal-doc/assets/js/28.125e7acf.js"><link rel="prefetch" href="/jfinal-doc/assets/js/29.1250b8e8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/3.fb24add6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/30.20e6ce97.js"><link rel="prefetch" href="/jfinal-doc/assets/js/31.95b4b073.js"><link rel="prefetch" href="/jfinal-doc/assets/js/32.a83c5e89.js"><link rel="prefetch" href="/jfinal-doc/assets/js/33.c0f483ef.js"><link rel="prefetch" href="/jfinal-doc/assets/js/34.f4785406.js"><link rel="prefetch" href="/jfinal-doc/assets/js/35.00ec9fef.js"><link rel="prefetch" href="/jfinal-doc/assets/js/36.757be1c7.js"><link rel="prefetch" href="/jfinal-doc/assets/js/37.88000cc1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/38.15bd7956.js"><link rel="prefetch" href="/jfinal-doc/assets/js/39.7141c887.js"><link rel="prefetch" href="/jfinal-doc/assets/js/4.eed64932.js"><link rel="prefetch" href="/jfinal-doc/assets/js/40.dfc5f7d9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/41.d5d79fa3.js"><link rel="prefetch" href="/jfinal-doc/assets/js/42.b36abe2b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/43.7fc9b163.js"><link rel="prefetch" href="/jfinal-doc/assets/js/44.6a608e44.js"><link rel="prefetch" href="/jfinal-doc/assets/js/45.8580fb76.js"><link rel="prefetch" href="/jfinal-doc/assets/js/46.9a5e89a6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/47.78ea0bf6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/48.0879d601.js"><link rel="prefetch" href="/jfinal-doc/assets/js/49.7e48cf05.js"><link rel="prefetch" href="/jfinal-doc/assets/js/5.8ea92bac.js"><link rel="prefetch" href="/jfinal-doc/assets/js/50.f56eff17.js"><link rel="prefetch" href="/jfinal-doc/assets/js/51.08636d03.js"><link rel="prefetch" href="/jfinal-doc/assets/js/52.a2fa2c73.js"><link rel="prefetch" href="/jfinal-doc/assets/js/53.e459c22f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/54.3a29c5bb.js"><link rel="prefetch" href="/jfinal-doc/assets/js/55.de854f74.js"><link rel="prefetch" href="/jfinal-doc/assets/js/56.db8587c8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/57.82ec4d24.js"><link rel="prefetch" href="/jfinal-doc/assets/js/58.1dcfb5f1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/59.17236c06.js"><link rel="prefetch" href="/jfinal-doc/assets/js/6.7df2cbe2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/60.4824ec63.js"><link rel="prefetch" href="/jfinal-doc/assets/js/61.6fd41c01.js"><link rel="prefetch" href="/jfinal-doc/assets/js/62.1def4d6a.js"><link rel="prefetch" href="/jfinal-doc/assets/js/63.1e849ba8.js"><link rel="prefetch" href="/jfinal-doc/assets/js/64.66f59d17.js"><link rel="prefetch" href="/jfinal-doc/assets/js/65.54e7412f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/66.1e0c8c53.js"><link rel="prefetch" href="/jfinal-doc/assets/js/67.5272358c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/68.3a1e2b98.js"><link rel="prefetch" href="/jfinal-doc/assets/js/69.8f94a508.js"><link rel="prefetch" href="/jfinal-doc/assets/js/7.e0fadba1.js"><link rel="prefetch" href="/jfinal-doc/assets/js/70.a4ea895f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/71.be8df1cb.js"><link rel="prefetch" href="/jfinal-doc/assets/js/72.04529033.js"><link rel="prefetch" href="/jfinal-doc/assets/js/73.97127af6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/74.04de6676.js"><link rel="prefetch" href="/jfinal-doc/assets/js/75.8e942ed2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/76.7778f313.js"><link rel="prefetch" href="/jfinal-doc/assets/js/77.03dc192f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/78.48740b92.js"><link rel="prefetch" href="/jfinal-doc/assets/js/79.bb6ec1b2.js"><link rel="prefetch" href="/jfinal-doc/assets/js/80.08da719c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/81.58f613c6.js"><link rel="prefetch" href="/jfinal-doc/assets/js/82.da0997b5.js"><link rel="prefetch" href="/jfinal-doc/assets/js/83.7951745e.js"><link rel="prefetch" href="/jfinal-doc/assets/js/84.b1f5eb92.js"><link rel="prefetch" href="/jfinal-doc/assets/js/85.61e3932b.js"><link rel="prefetch" href="/jfinal-doc/assets/js/86.0c46a161.js"><link rel="prefetch" href="/jfinal-doc/assets/js/87.284a0be9.js"><link rel="prefetch" href="/jfinal-doc/assets/js/88.bb01da99.js"><link rel="prefetch" href="/jfinal-doc/assets/js/89.d90e5f2f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/90.a3b2e78a.js"><link rel="prefetch" href="/jfinal-doc/assets/js/91.6e962d9c.js"><link rel="prefetch" href="/jfinal-doc/assets/js/92.a10e49ca.js"><link rel="prefetch" href="/jfinal-doc/assets/js/93.a559cd25.js"><link rel="prefetch" href="/jfinal-doc/assets/js/94.744b402f.js"><link rel="prefetch" href="/jfinal-doc/assets/js/95.e61dea36.js"><link rel="prefetch" href="/jfinal-doc/assets/js/96.68082213.js"><link rel="prefetch" href="/jfinal-doc/assets/js/97.1bc0ead0.js"><link rel="prefetch" href="/jfinal-doc/assets/js/98.5e407976.js"><link rel="prefetch" href="/jfinal-doc/assets/js/99.889592e4.js"><link rel="prefetch" href="/jfinal-doc/assets/js/vendors~docsearch.2493936b.js">
    <link rel="stylesheet" href="/jfinal-doc/assets/css/0.styles.920a9963.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jfinal-doc/" class="home-link router-link-active"><img src="/jfinal-doc/jfinallogo.png" alt="JFinal Docs" class="logo"> <span class="site-name can-hide">JFinal Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sources Menu" class="dropdown-title"><span class="title">Sources</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sources Menu" class="mobile-dropdown-title"><span class="title">Sources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/jfinal/jfinal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jfinal/jfinal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jfinal-doc/zh/1 快速上手/1.0 快速上手.html" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/jfinal-doc/en/1 Quick Start/1.0 Quick Start.html" class="nav-link">
  English
</a></li></ul></div></div><div class="nav-item"><a href="/jfinal-doc/about/" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sources Menu" class="dropdown-title"><span class="title">Sources</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sources Menu" class="mobile-dropdown-title"><span class="title">Sources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/jfinal/jfinal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jfinal/jfinal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jfinal-doc/zh/1 快速上手/1.0 快速上手.html" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/jfinal-doc/en/1 Quick Start/1.0 Quick Start.html" class="nav-link">
  English
</a></li></ul></div></div><div class="nav-item"><a href="/jfinal-doc/about/" class="nav-link">
  About
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>1 快速上手</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/1 快速上手/1.0 快速上手.html" class="sidebar-link">1.0 快速上手</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.1 Maven 基础.html" class="sidebar-link">1.1 Maven 基础</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.2 jfinal-undertow 下开发.html" class="sidebar-link">1.2 jfinal-undertow 下开发</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.3 jfinal-undertow 下部署.html" class="sidebar-link">1.3 jfinal-undertow 下部署</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html" class="active sidebar-link">1.4 jfinal-undertow 高级用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html#一、基础配置" class="sidebar-link">一、基础配置</a></li><li class="sidebar-sub-header"><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html#二、ssl-证书" class="sidebar-link">二、SSL 证书</a></li><li class="sidebar-sub-header"><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html#_1、申请-ssl-证书" class="sidebar-link">1、申请 SSL 证书</a></li><li class="sidebar-sub-header"><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html#_2、下载合适的证书类型" class="sidebar-link">2、下载合适的证书类型</a></li><li class="sidebar-sub-header"><a href="/jfinal-doc/zh/1 快速上手/1.4 jfinal-undertow 高级用法.html#三、https-双向认证" class="sidebar-link">三、Https 双向认证</a></li></ul></li><li><a href="/jfinal-doc/zh/1 快速上手/1.5 jfinal-undertow 常见问题.html" class="sidebar-link">1.5 jfinal-undertow 常见问题</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.6 jetty-server 下开发.html" class="sidebar-link">1.6 jetty-server 下开发</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.7 tomcat 下部署.html" class="sidebar-link">1.7 tomcat 下部署</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.8 非 maven 方式开发.html" class="sidebar-link">1.8 非 maven 方式开发</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.9 IDEA下开发.html" class="sidebar-link">1.9 IDEA下开发</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.10 JBolt 插件下开发.html" class="sidebar-link">1.10 JBolt 插件下开发</a></li><li><a href="/jfinal-doc/zh/1 快速上手/1.11 特别声明.html" class="sidebar-link">1.11 特别声明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2 JFinalConfig</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.1 概述.html" class="sidebar-link">2.1 概述</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.2 configConstant.html" class="sidebar-link">2.2 configConstant</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.3 configRoute.html" class="sidebar-link">2.3 configRoute</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.4 configEngine.html" class="sidebar-link">2.4 configEngine</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.5 configPlugin.html" class="sidebar-link">2.5 configPlugin</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.6 configInterceptor.html" class="sidebar-link">2.6 configInterceptor</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.7 configHandler.html" class="sidebar-link">2.7 configHandler</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.8 onStart and onStop 回调配置.html" class="sidebar-link">2.8 onStart and onStop 回调配置</a></li><li><a href="/jfinal-doc/zh/2 JFinalConfig/2.9 PropKit 读取配置.html" class="sidebar-link">2.9 PropKit 读取配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>3 Controller</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/3 Controller/3.1 概述.html" class="sidebar-link">3.1 概述</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.2 Action.html" class="sidebar-link">3.2 Action</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.3 Action 参数注入.html" class="sidebar-link">3.3 Action 参数注入</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.4 get &amp; getPara 系列方法.html" class="sidebar-link">3.4 get &amp; getPara 系列方法</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.5 getBean &amp; getModel 系列.html" class="sidebar-link">3.5 getBean &amp; getModel 系列</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.6 set &amp; setAttr 方法.html" class="sidebar-link">3.6 set &amp; setAttr 方法</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.7 render 方法.html" class="sidebar-link">3.7 render 方法</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.8 renderFile 文件下载.html" class="sidebar-link">3.8 renderFile 文件下载</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.9 renderQrCode 二维码生成.html" class="sidebar-link">3.9 renderQrCode 二维码生成</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.10 session 操作.html" class="sidebar-link">3.10 session 操作</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.11 getFile 文件上传.html" class="sidebar-link">3.11 getFile 文件上传</a></li><li><a href="/jfinal-doc/zh/3 Controller/3.12 keep 系方法.html" class="sidebar-link">3.12 keep 系方法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>4 AOP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/4 AOP/4.1 概述.html" class="sidebar-link">4.1 概述</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.2 Interceptor.html" class="sidebar-link">4.2 Interceptor</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.3 Before.html" class="sidebar-link">4.3 Before</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.4 Clear.html" class="sidebar-link">4.4 Clear</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.5 Inject 依赖注入.html" class="sidebar-link">4.5 Inject 依赖注入</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.6 Aop 工具.html" class="sidebar-link">4.6 Aop 工具</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.7 Routes 级别拦截器.html" class="sidebar-link">4.7 Routes 级别拦截器</a></li><li><a href="/jfinal-doc/zh/4 AOP/4.8 Proxy 动态代理.html" class="sidebar-link">4.8 Proxy 动态代理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>5 ActiveRecord</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.1 概述.html" class="sidebar-link">5.1 概述</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.2 ActiveRecordPlugin.html" class="sidebar-link">5.2 ActiveRecordPlugin</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.3 Model.html" class="sidebar-link">5.3 Model</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.4 生成器与 JavaBean.html" class="sidebar-link">5.4 生成器与 JavaBean</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.5 独创Db Record模式.html" class="sidebar-link">5.5 独创Db Record模式</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.6 paginate 分页.html" class="sidebar-link">5.6 paginate 分页</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.7 数据库事务处理.html" class="sidebar-link">5.7 数据库事务处理</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.8 Cache 缓存.html" class="sidebar-link">5.8 Cache 缓存</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.9 Dialect多数据库支持.html" class="sidebar-link">5.9 Dialect多数据库支持</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.10 表关联操作.html" class="sidebar-link">5.10 表关联操作</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.11 复合主键.html" class="sidebar-link">5.11 复合主键</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.12 Oracle支持.html" class="sidebar-link">5.12 Oracle支持</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.13 Enjoy SQL 模板.html" class="sidebar-link">5.13 Enjoy SQL 模板</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.14 多数据源支持.html" class="sidebar-link">5.14 多数据源支持</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.15 独立使用 ActiveRecord.html" class="sidebar-link">5.15 独立使用 ActiveRecord</a></li><li><a href="/jfinal-doc/zh/5 ActiveRecord/5.16 调用存储过程.html" class="sidebar-link">5.16 调用存储过程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>6 Enjoy 模板引擎</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.1 概述.html" class="sidebar-link">6.1 概述</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.2 引擎配置.html" class="sidebar-link">6.2 引擎配置</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.3 表达式.html" class="sidebar-link">6.3 表达式</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.4 指令.html" class="sidebar-link">6.4 指令</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.5 注释.html" class="sidebar-link">6.5 注释</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.6 原样输出.html" class="sidebar-link">6.6 原样输出</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.7 Shared Method 扩展.html" class="sidebar-link">6.7 Shared Method 扩展</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.8 Shared Object扩展.html" class="sidebar-link">6.8 Shared Object扩展</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.9 Extension Method扩展.html" class="sidebar-link">6.9 Extension Method扩展</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.10 Spring boot 整合.html" class="sidebar-link">6.10 Spring boot 整合</a></li><li><a href="/jfinal-doc/zh/6 Enjoy 模板引擎/6.11 独立使用 Enjoy.html" class="sidebar-link">6.11 独立使用 Enjoy</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>7 EhCachePlugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.1 概述.html" class="sidebar-link">7.1 概述</a></li><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.2 EhCachePlugin.html" class="sidebar-link">7.2 EhCachePlugin</a></li><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.3 CacheInterceptor.html" class="sidebar-link">7.3 CacheInterceptor</a></li><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.4 EvictInterceptor.html" class="sidebar-link">7.4 EvictInterceptor</a></li><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.5 CacheKit.html" class="sidebar-link">7.5 CacheKit</a></li><li><a href="/jfinal-doc/zh/7 EhCachePlugin/7.6 ehcache.xml简介.html" class="sidebar-link">7.6 ehcache.xml简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>8 RedisPlugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/8 RedisPlugin/8.1 概述.html" class="sidebar-link">8.1 概述</a></li><li><a href="/jfinal-doc/zh/8 RedisPlugin/8.2 RedisPlugin.html" class="sidebar-link">8.2 RedisPlugin</a></li><li><a href="/jfinal-doc/zh/8 RedisPlugin/8.3 Redis与Cache.html" class="sidebar-link">8.3 Redis与Cache</a></li><li><a href="/jfinal-doc/zh/8 RedisPlugin/8.4 非web环境使用RedisPlugin.html" class="sidebar-link">8.4 非web环境使用RedisPlugin</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>9 Cron4jPlugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/9 Cron4jPlugin/9.1 概述.html" class="sidebar-link">9.1 概述</a></li><li><a href="/jfinal-doc/zh/9 Cron4jPlugin/9.2 Cron4jPlugin.html" class="sidebar-link">9.2 Cron4jPlugin</a></li><li><a href="/jfinal-doc/zh/9 Cron4jPlugin/9.3 使用外部配置文件.html" class="sidebar-link">9.3 使用外部配置文件</a></li><li><a href="/jfinal-doc/zh/9 Cron4jPlugin/9.4 高级用法.html" class="sidebar-link">9.4 高级用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>10 Validator</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/10 Validator/10.1 概述.html" class="sidebar-link">10.1 概述</a></li><li><a href="/jfinal-doc/zh/10 Validator/10.2 Validator.html" class="sidebar-link">10.2 Validator</a></li><li><a href="/jfinal-doc/zh/10 Validator/10.3 Validator配置.html" class="sidebar-link">10.3 Validator配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>11 国际化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/11 国际化/11.1 概述.html" class="sidebar-link">11.1 概述</a></li><li><a href="/jfinal-doc/zh/11 国际化/11.2 I18n与Res.html" class="sidebar-link">11.2 I18n与Res</a></li><li><a href="/jfinal-doc/zh/11 国际化/11.3 I18nInterceptor.html" class="sidebar-link">11.3 I18nInterceptor</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>12 Json 转换</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/12 Json 转换/12.1 概述.html" class="sidebar-link">12.1 概述</a></li><li><a href="/jfinal-doc/zh/12 Json 转换/12.2 Json 配置.html" class="sidebar-link">12.2 Json 配置</a></li><li><a href="/jfinal-doc/zh/12 Json 转换/12.3 Json 的四个实现.html" class="sidebar-link">12.3 Json 的四个实现</a></li><li><a href="/jfinal-doc/zh/12 Json 转换/12.4 Json 转换用法.html" class="sidebar-link">12.4 Json 转换用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>13 JFinal架构及扩展</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/13 JFinal架构及扩展/13.1 概述.html" class="sidebar-link">13.1 概述</a></li><li><a href="/jfinal-doc/zh/13 JFinal架构及扩展/13.2 架构.html" class="sidebar-link">13.2 架构</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>14 升级JFinal</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jfinal-doc/zh/14 升级JFinal/14.1 极速升级.html" class="sidebar-link">14.1 极速升级</a></li><li><a href="/jfinal-doc/zh/14 升级JFinal/14.2 Ret.html" class="sidebar-link">14.2 Ret</a></li><li><a href="/jfinal-doc/zh/14 升级JFinal/14.3 configEngine.html" class="sidebar-link">14.3 configEngine</a></li><li><a href="/jfinal-doc/zh/14 升级JFinal/14.4 baseViewPath.html" class="sidebar-link">14.4 baseViewPath</a></li><li><a href="/jfinal-doc/zh/14 升级JFinal/14.5 RenderFactory.html" class="sidebar-link">14.5 RenderFactory</a></li><li><a href="/jfinal-doc/zh/14 升级JFinal/14.6 其它.html" class="sidebar-link">14.6 其它</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-4-jfinal-undertow-高级用法"><a href="#_1-4-jfinal-undertow-高级用法" class="header-anchor">#</a> 1.4 jfinal-undertow 高级用法</h1> <h2 id="一、基础配置"><a href="#一、基础配置" class="header-anchor">#</a> 一、基础配置</h2> <h3 id="_1、启用配置文件"><a href="#_1、启用配置文件" class="header-anchor">#</a> 1、启用配置文件</h3> <p>在 src/main/resources 目录下面创建 undertow.txt 文件，该文件会被 jfinal undertow 自动加载并对 jfinal undertow 进行配置。</p> <p>如果不想使用 &quot;undertow.txt&quot; 这个文件名，还可以通过 UndertowServer.create(AppConfig.class, &quot;other.txt&quot;) 方法的第二个参数来指定自己喜欢的文件名。</p> <p>配置文件创建好以后，就可以按照下面的文档来配置相应的功能了。</p> <h3 id="_2、常用配置"><a href="#_2、常用配置" class="header-anchor">#</a> 2、常用配置</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># true 值支持热加载
undertow.devMode=true
undertow.port=80
undertow.host=0.0.0.0
 
# 绝大部分情况不建议配置 context path
undertow.contextPath=/abc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>开发时配置成 true 支持热加载，注意该 devMode 与 jfinal 项目中的 devMode 没有任何关系，注意区分。</p> <p>重要：老版本的 undertow.host 配置的默认值为 localhost，Linux 操作系统下的安全设置可能无法在外网访问 localhost 下部署的项目，修改配置 undertow.host=0.0.0.0 即可。如果使用了 nginx 做了代理，可保持 localhost 配置。</p> <h3 id="_3、web-资源加载路径配置"><a href="#_3、web-资源加载路径配置" class="header-anchor">#</a> 3、web 资源加载路径配置</h3> <p>jfinal undertow 可以十分方便地从文件系统的目录以及 class path 或 jar 包中加载 web 静态资源，以下是配置示例：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>undertow.resourcePath = src/main/webapp, classpath:static
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如上所示 &quot;src/main/webapp&quot; 表示从项目根目录下的 &quot;src/main/webapp&quot; 下去加载 web 静态资源。 &quot;classpath:static&quot; 表示从 class path 以及 jar 包中的 static 路径下去加载 web 静态资源。</p> <p>注意：&quot;classpath:static&quot; 这种配置是 jfinal undertow 1.5 才添加的功能。</p> <p>undertow.resourcePath 配置的另一个重点是，以 &quot;classpath:&quot; 为前缀的配置需要自行注意路径是否存在，尽可能只配置存在的路径。而不以 &quot;classpath:&quot; 打头的配置可以将开发与部署时的路径一起配置进来（逗号分隔开），jfinal undertow 会在运行时检测路径是否存在，存在才真正让其生效，从而很方便一次配置同时适用于开发、生产两种环境。</p> <p>重要：PathKit.getWebRootPath() 将指向 undertow.resourcePath 配置中的第一个有效目录，而 configEngine(Engine engine) 方法中的 engine 对象已被默认配置了 engine.setBaseTemplatePath(PathKit.getWebRootPath())。所以该配置与 engine 的 baseTemplatePath 有关联。</p> <h3 id="_4、性能配置"><a href="#_4、性能配置" class="header-anchor">#</a> 4、性能配置</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># io 线程数与 worker 线程数
# undertow.ioThreads=
# undertow.workerThreads=
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>默认配置已充分考虑常用场景，如果没有压测数据作为指导，建议使用默认配置，不要添加这两项配置。</p> <p>ioThreads 为 NIO 处理 io 请求的线程数量，在生产环境下建议的配置范围是 cpu 核心数的一倍到两倍。建议根据压测结果进行调整。</p> <p>workerThreads 是处理请求的线程数量，在生产环境下可以使用默认配置，或者根据压测结果进行配置。在压测数据几乎最好的情况下尽可能选择更小的 workThreads 值。因为当性能达到某个高度时再增加 workThreads 值并不会带来性能提升，但会增加系统的资源消耗。</p> <h3 id="_5、开启-gzip-压缩"><a href="#_5、开启-gzip-压缩" class="header-anchor">#</a> 5、开启 gzip 压缩</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># gzip 压缩开关
undertow.gzip.enable=true
# 配置压缩级别，默认值 -1。 可配置 1 到 9。 1 拥有最快压缩速度，9 拥有最高压缩率
undertow.gzip.level=-1
# 触发压缩的最小内容长度
undertow.gzip.minLength=1024
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>开启 gzip 压缩可以降低网络流量，提升访问速度</p> <h3 id="_6、配置-session"><a href="#_6、配置-session" class="header-anchor">#</a> 6、配置 session</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># session 过期时间，注意单位是秒
undertow.session.timeout=1800
# 支持 session 热加载，避免依赖于 session 的登录型项目反复登录，默认值为 true。仅用于 devMode，生产环境无影响
undertow.session.hotSwap=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_7、配置-https"><a href="#_7、配置-https" class="header-anchor">#</a> 7、配置 https</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 是否开启 ssl
undertow.ssl.enable=false
# ssl 监听端口号，部署环境设置为 443
undertow.ssl.port=443
# 密钥库类型，建议使用 PKCS12
undertow.ssl.keyStoreType=PKCS12
# 密钥库文件
undertow.ssl.keyStore=demo.pfx
# 密钥库密码
undertow.ssl.keyStorePassword=123456
# 别名配置，一般不使用
undertow.ssl.keyAlias=demo
SSL 证书的获取见后面的第二小节
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_8、配置-http2"><a href="#_8、配置-http2" class="header-anchor">#</a> 8、配置 http2</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># ssl 开启时，是否开启 http2。检测该配置是否生效在 chrome 地址栏中输入: chrome://net-internals/#http2
undertow.http2.enable=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>开启 http2 可以大大加快访问速度，不必担心 https 比 http 慢这个事</p> <h3 id="_9、配置-http-重定向到-https"><a href="#_9、配置-http-重定向到-https" class="header-anchor">#</a> 9、配置 http 重定向到 https</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># ssl 开启时，http 请求是否重定向到 https
undertow.http.toHttps=false
# ssl 开启时，http 请求跳转到 https 使用的状态码，默认值 302
undertow.http.toHttpsStatusCode=302
### 10、配置关闭 http
# ssl 开启时，是否关闭 http
undertow.http.disable=false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在启用 https 后，可以配置关闭 http，这样就只能访问 https 了。该配置项比较适合于小程序服务端。</p> <p>对于一般的 web 项目不建议配置此项，而是配置 undertow.http.toHttps=true 将 http 重定向到 https</p> <h3 id="_11、自由配置-undertow"><a href="#_11、自由配置-undertow" class="header-anchor">#</a> 11､自由配置 Undertow</h3> <p>以上配置方式由 jfinal undertow 做了直接的支持，如果上面的配置仍然不能满足需求，还可以通过下面的方式自由配置 undertow：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>UndertowServer.create(YourJFinalConfig.class)
    .onStart( builder -&gt; {
        builder.setServerOption(UndertowOptions.参数名, 参数值);	
     })
    .start();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如上所示，通过在 onStart 方法中使用 builder.setServerOption(...) 可以对 underow 进行更加深入的配置，还可以调用 builder 中的其它 API 进行其它类型的配置。上述的 UndertowOptions 中定义了很多 undertow 的配置名，查看其中的注释文档可以知道还有很多有用的配置</p> <h3 id="_12、添加-filter、websocket、servlet、listener"><a href="#_12、添加-filter、websocket、servlet、listener" class="header-anchor">#</a> 12、添加 Filter、WebSocket、Servlet、Listener</h3> <p>特别注意，Undertow 是为嵌入而生的 Web Server，web.xml 已被抛弃，所以无法通过 web.xml 配置 web 组件。</p> <p>为此 jfinal undertow 提供了 UndertowServer.configWeb(...) 可以很方便添加 Filter、WebSocket、Servlet、Listener 这些标准的 Java Web 组件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>UndertowServer.create(AppConfig.class)
     .configWeb( builder -&gt; {
         // 配置 Filter
         builder.addFilter(&quot;myFilter&quot;, &quot;com.abc.MyFilter&quot;);
         builder.addFilterUrlMapping(&quot;myFilter&quot;, &quot;/*&quot;);
         builder.addFilterInitParam(&quot;myFilter&quot;, &quot;key&quot;, &quot;value&quot;);
         
         // 配置 Servlet
         builder.addServlet(&quot;myServlet&quot;, &quot;com.abc.MyServlet&quot;);
         builder.addServletMapping(&quot;myServlet&quot;, &quot;*.do&quot;);
         builder.addServletInitParam(&quot;myServlet&quot;, &quot;key&quot;, &quot;value&quot;);
         
         // 配置 Listener
         builder.addListener(&quot;com.abc.MyListener&quot;);
         
         // 配置 WebSocket，MyWebSocket 需使用 ServerEndpoint 注解
         builder.addWebSocketEndpoint(&quot;com.abc.MyWebSocket&quot;);
      })
     .start();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>注意，JFinalFilter 会接管所有请求，所以上面代码中 addServletMapping(...) 映射的 servlet 默认是无法被请求到的，需要在 configHandler(Handlers me) 中配置 UrlSkipHandler 让 jfinal 跳过这些 serlvet 的 url</p> <p>以上代码中的 MyWebSocket 需要使用 ServerEndpoint 注解标识其为一个 WebSocket 组件，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@ServerEndpoint(&quot;/myapp.ws&quot;)
public class MyWebSocket { 
    @OnMessage
    public void message(String message, Session session) {
        for (Session s : session.getOpenSessions()) {
            s.getAsyncRemote().sendText(message);
        }
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>与上述 MyWebSocket 配合使用的例子 html 在这里可以下载：传送门。社区同学分享的完整 websocket 代码在这里：https://jfinal.com/share/2004</p> <p>要修改一下该 html 中的 url 为： &quot;ws://localhost:80/myapp.ws&quot;，端口号适当调整。</p> <p>注意：由于 JFinalFilter 会接管所有不带 &quot;.&quot; 字符的 URL 请求所以 @ServerEndpoint 注解中的 URL 参数值建议以 &quot;.ws&quot; 结尾，否则请求会响应 404 找不到资源，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@ServerEndpoint(&quot;/myapp.ws&quot;)
public class MyWebSocketEndpoint  {
    ......
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当然，ServerEndpoint 中的 URL 不使用 &quot;.ws&quot; 结尾也是可以的，只需要参考 jfinal 的 UrlSkipHandler 做一个 Handler 跳过属于 WebSocket 的 URL 即可</p> <p>最后，websocket 支持需要添加一个依赖，要添加的依赖项请看前面的文档：https://jfinal.com/doc/1-2</p> <h2 id="二、ssl-证书"><a href="#二、ssl-证书" class="header-anchor">#</a> 二、SSL 证书</h2> <h2 id="_1、申请-ssl-证书"><a href="#_1、申请-ssl-证书" class="header-anchor">#</a> 1、申请 SSL 证书</h2> <p>建议从阿里云或者腾迅云获取 SSL 证书，有免费版和收费版，阿里云 SSL 证书获取：SSL 证书获取传送门</p> <p>注意：在申请免费版 SSL 证书的过程中，绑定域名一般输入主机名为 www 的域名，例如： www.jfinal.com</p> <h2 id="_2、下载合适的证书类型"><a href="#_2、下载合适的证书类型" class="header-anchor">#</a> 2、下载合适的证书类型</h2> <p>SSL 证书申请下来以后，可以到控制台下载证书，如下图所示：</p> <p><img src="/jfinal-doc/1.4/1_20181212131034.png" alt="ssl_download.png"></p> <p>点击下载链接以后，在右侧下载 tomcat 类型的 SSL 证书
<img src="/jfinal-doc/1.4/1_20181212131225.png" alt="ssl_tomcat.png"></p> <p>下载的证书里头，有一个 xxx.pfx 文件，该文件就是证书文件。此外还有一个 pfx-password.txt 文件，此文件里面放的是证书密码，将 xxx.pfx 放入项目的 src/main/resources 目录，在 undertow.txt 配置文件中添加如下几行配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 是否开启 ssl
undertow.ssl.enable=true
# ssl 监听端口号，部署环境设置为 443
undertow.ssl.port=443
# 密钥库类型，一般是 PKCS12 与 JKS，注意根据实际类型调整
undertow.ssl.keyStoreType=PKCS12
# 密钥库文件
undertow.ssl.keyStore=demo.pfx
# 密钥库密码
undertow.ssl.keyStorePassword=123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>其中的 &quot;demo.pfx&quot; 即为前面下载的证书文件的文件名，&quot;123456&quot; 即为证书密码，这两个配置根据你下载到的实际内容进行修改。&quot;PKCS12&quot; 这个配置是证书类型，阿里云下载的 tomcat 型证书为 PKCS12，腾迅云可能是 &quot;JKS&quot;</p> <h3 id="_3、启动项目"><a href="#_3、启动项目" class="header-anchor">#</a> 3、启动项目</h3> <p>启动项目，通过 &quot;https://申请证书时绑定的域名&quot; 即可访问</p> <h2 id="三、https-双向认证"><a href="#三、https-双向认证" class="header-anchor">#</a> 三、Https 双向认证</h2> <p>如果你的 jfinal undertow 项目需要对客户端进行 ssl 认证，需要使用如下方式进行配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>UndertowServer.create(YourJFinalConfig.class)
  .onStart( builder -&gt; {
    builder.setSocketOption(Options.SSL_CLIENT_AUTH_MODE, SslClientAuthMode.REQUESTED);
  })
  .start();`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>该方法来自于社区用户的分享：https://jfinal.com/feedback/7758</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/21/2023, 11:39:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jfinal-doc/zh/1 快速上手/1.3 jfinal-undertow 下部署.html" class="prev">
        1.3 jfinal-undertow 下部署
      </a></span> <span class="next"><a href="/jfinal-doc/zh/1 快速上手/1.5 jfinal-undertow 常见问题.html">
        1.5 jfinal-undertow 常见问题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/jfinal-doc/assets/js/app.5fe66a11.js" defer></script><script src="/jfinal-doc/assets/js/2.347bbfd0.js" defer></script><script src="/jfinal-doc/assets/js/1.4a50f8bd.js" defer></script><script src="/jfinal-doc/assets/js/130.35cdd3aa.js" defer></script>
  </body>
</html>
